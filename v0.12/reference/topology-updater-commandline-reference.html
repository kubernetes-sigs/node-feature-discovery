<!doctype html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="NFD-Topology-Updater Commandline Flags Table of Contents NFD-Topology-Updater Commandline Flags -h, -help -version -config -no-publish -oneshot -sl..."> <meta name="revised" content=""> <meta name="author" content="Kubernetes SIGs"> <meta name="generator" content="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs"><meta name="theme-color" content="#2980b9"> <title>Topology Updater Cmdline Reference 路 Node Feature Discovery</title> <meta name="twitter:title" content="Topology Updater Cmdline Reference 路 Node Feature Discovery"> <meta name="twitter:description" content="NFD-Topology-Updater Commandline Flags Table of Contents NFD-Topology-Updater Commandline Flags -h, -help -version -config -no-publish -oneshot -sl..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@JVconseil"> <meta name="twitter:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/topology-updater-commandline-reference.html"> <meta name="twitter:creator" content="@JVconseil"> <meta property="og:title" content="Topology Updater Cmdline Reference 路 Node Feature Discovery"> <meta property="og:description" content="NFD-Topology-Updater Commandline Flags Table of Contents NFD-Topology-Updater Commandline Flags -h, -help -version -config -no-publish -oneshot -sl..."> <meta property="og:locale" content="en"> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/topology-updater-commandline-reference.html"> <meta property="og:type" content="article"> <meta property="og:image" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/assets/images/social-media-preview.png"> <meta property="article:author" content="Kubernetes SIGs"> <meta property="article:published_time" content="2016-07-23T00:07:52-05:00"> <meta property="article:modified_time" content="2025-07-25T09:23:55-05:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/topology-updater-commandline-reference.html" }, "headline": "Topology Updater Cmdline Reference 路 Node Feature Discovery", "image": [], "author": { "@type": "Person", "name": "Kubernetes SIGs" }, "datePublished": "2016-07-23T00:07:52-05:00", "dateModified": "2025-07-25T09:23:55-05:00", "publisher": { "@type": "Organization", "name": "Kubernetes SIGs", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/36015203?v=4" } }, "description": "NFD-Topology-Updater Commandline Flags Table of Contents NFD-Topology-Updater Commandline Flags -h, -help -version -config -no-publish -oneshot -sl..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/worker-configuration-reference.html"><link rel="next" href="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/topology-updater-configuration-reference.html"><link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/v0.12/reference/topology-updater-commandline-reference.html"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.ico"><link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.svg"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/css/theme.min.css"><style>@media (min-width: 1280px){.content-wrap{max-width:1200px}}</style><script> window.ui = { title: "Node Feature Discovery", baseurl: "/node-feature-discovery/v0.12", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/v0.12/" title="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster."> <i class="fa fa-home"></i> Node Feature Discovery </a> </div> <span class="version">v0.12.5</span> <form class="search pt-2" action="/node-feature-discovery/v0.12/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/get-started/"> Get started </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/get-started/introduction.html">1. Introduction</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/get-started/quick-start.html">2. Quick start</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/deployment/"> Deployment </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/image-variants.html">1. Image variants</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/kustomize.html">2. Kustomize</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/helm.html">3. Helm</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/operator.html">4. NFD Operator</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/tls.html">5. TLS authentication</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/deployment/uninstallation.html">6. Uninstallation</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/usage/"> Usage </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/features.html">1. Feature labels</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/using-labels.html">2. Using node labels</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/nfd-master.html">3. NFD-Master</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/nfd-worker.html">4. NFD-Worker</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/nfd-topology-updater.html">5. NFD-Topology-Updater</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/custom-resources.html">6. CRDs</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/customization-guide.html">7. Customization guide</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/usage/examples-and-demos.html">8. Examples and demos</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/reference/"> Reference </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/reference/master-commandline-reference.html">1. Master cmdline reference</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/reference/worker-commandline-reference.html">2. Worker cmdline reference</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/reference/worker-configuration-reference.html">3. Worker config reference</a> </li> <li class="toc level-1 current" data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline current" href="/node-feature-discovery/v0.12/reference/topology-updater-commandline-reference.html">4. Topology Updater Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.12/reference/topology-updater-configuration-reference.html">5. Topology-Updater config reference</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/developer-guide/"> Developer guide </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.12/contributing/"> Contributing </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/v0.12/">Node Feature Discovery</a> </div> </div> <div class="bg-red-2"> <div class="content p-3 px-sm-5"> This documentation is for Node Feature Discovery version that is no longer supported. Please upgrade and visit the <a class="no-underline" href="/node-feature-discovery/stable">documentation of the latest stable release</a>. </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/node-feature-discovery/v0.12/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/node-feature-discovery/v0.12/reference/">reference</a></li><li class="breadcrumb-item" aria-current="page">topology-updater-commandline-reference.md</li></ul> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="nfd-topology-updater-commandline-flags">NFD-Topology-Updater Commandline Flags</h1> <h2 class="no_toc" id="table-of-contents">Table of Contents</h2> <ol class="no_toc text-delta" id="markdown-toc"> <li><a href="#nfd-topology-updater-commandline-flags" id="markdown-toc-nfd-topology-updater-commandline-flags">NFD-Topology-Updater Commandline Flags</a> <ol> <li><a href="#-h--help" id="markdown-toc--h--help">-h, -help</a></li> <li><a href="#-version" id="markdown-toc--version">-version</a></li> <li><a href="#-config" id="markdown-toc--config">-config</a></li> <li><a href="#-no-publish" id="markdown-toc--no-publish">-no-publish</a></li> <li><a href="#-oneshot" id="markdown-toc--oneshot">-oneshot</a></li> <li><a href="#-sleep-interval" id="markdown-toc--sleep-interval">-sleep-interval</a></li> <li><a href="#-watch-namespace" id="markdown-toc--watch-namespace">-watch-namespace</a></li> <li><a href="#-kubelet-config-uri" id="markdown-toc--kubelet-config-uri">-kubelet-config-uri</a></li> <li><a href="#-api-auth-token-file" id="markdown-toc--api-auth-token-file">-api-auth-token-file</a></li> <li><a href="#-podresources-socket" id="markdown-toc--podresources-socket">-podresources-socket</a></li> </ol> </li> </ol> <hr /> <p>To quickly view available command line flags execute <code class="language-plaintext highlighter-rouge notranslate">nfd-topology-updater -help</code>. In a docker container:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>docker run registry.k8s.io/nfd/node-feature-discovery:v0.12.5 <span class="se">\</span>
nfd-topology-updater <span class="nt">-help</span>
</code></pre>  </div></div> <h3 id="-h--help">-h, -help</h3> <p>Print usage and exit.</p> <h3 id="-version">-version</h3> <p>Print version and exit.</p> <h3 id="-config">-config</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-config</code> flag specifies the path of the nfd-topology-updater configuration file to use.</p> <p>Default: /etc/kubernetes/node-feature-discovery/nfd-topology-updater.conf</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-config</span><span class="o">=</span>/opt/nfd/nfd-topology-updater.conf
</code></pre>  </div></div> <h3 id="-no-publish">-no-publish</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-no-publish</code> flag disables all communication with the nfd-master, making it a "dry-run" flag for nfd-topology-updater. NFD-Topology-Updater runs resource hardware topology detection normally, but no CR requests are sent to nfd-master.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-no-publish</span>
</code></pre>  </div></div> <h3 id="-oneshot">-oneshot</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-oneshot</code> flag causes nfd-topology-updater to exit after one pass of resource hardware topology detection.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-oneshot</span> <span class="nt">-no-publish</span>
</code></pre>  </div></div> <h3 id="-sleep-interval">-sleep-interval</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-sleep-interval</code> specifies the interval between resource hardware topology re-examination (and CR updates). A non-positive value implies infinite sleep interval, i.e. no re-detection is done.</p> <p>Default: 60s</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-sleep-interval</span><span class="o">=</span>1h
</code></pre>  </div></div> <h3 id="-watch-namespace">-watch-namespace</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-watch-namespace</code> specifies the namespace to ensure that resource hardware topology examination only happens for the pods running in the specified namespace. Pods that are not running in the specified namespace are not considered during resource accounting. This is particularly useful for testing/debugging purpose. A "*" value would mean that all the pods would be considered during the accounting process.</p> <p>Default: "*"</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-watch-namespace</span><span class="o">=</span>rte
</code></pre>  </div></div> <h3 id="-kubelet-config-uri">-kubelet-config-uri</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-kubelet-config-uri</code> specifies the path to the Kubelet's configuration. Note that the URi could either be a local host file or an HTTP endpoint.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">https://${NODE_NAME}:10250/configz</code></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-kubelet-config-uri</span><span class="o">=</span>file:///var/lib/kubelet/config.yaml
</code></pre>  </div></div> <h3 id="-api-auth-token-file">-api-auth-token-file</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-api-auth-token-file</code> specifies the path to the api auth token file which is used to retrieve Kubelet's configuration from Kubelet secure port, only taking effect when <code class="language-plaintext highlighter-rouge notranslate">-kubelet-config-uri</code> is https. Note that this token file must bind to a role that has the <code class="language-plaintext highlighter-rouge notranslate">get</code> capability to <code class="language-plaintext highlighter-rouge notranslate">nodes/proxy</code> resources.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">/var/run/secrets/kubernetes.io/serviceaccount/token</code></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-token-file</span><span class="o">=</span>/var/run/secrets/kubernetes.io/serviceaccount/token
</code></pre>  </div></div> <h3 id="-podresources-socket">-podresources-socket</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-podresources-socket</code> specifies the path to the Unix socket where kubelet exports a gRPC service to enable discovery of in-use CPUs and devices, and to provide metadata for them.</p> <p>Default: /host-var/lib/kubelet/pod-resources/kubelet.sock</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-topology-updater <span class="nt">-podresources-socket</span><span class="o">=</span>/var/lib/kubelet/pod-resources/kubelet.sock
</code></pre>  </div></div> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/node-feature-discovery/v0.12/reference/worker-configuration-reference.html" class="btn" title="Worker config reference" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/node-feature-discovery/v0.12/reference/topology-updater-configuration-reference.html" class="btn" title="Topology-Updater config reference" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2016-2025,</span> <a class="text-gray" href="https://github.com/kubernetes-sigs" rel="noreferrer" target="_blank">Kubernetes SIGs</a> Revision <a class="text-gray" href="https://github.com/kubernetes-sigs/node-feature-discovery/commit/" title="" rel="noreferrer" target="_blank"></a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v227">GitHub Pages</a> using a <a href="https://github.com/JV-conseil/jekyll-theme-read-the-docs" rel="noreferrer" target="_blank" title="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs">theme</a> provided by <a href="https://github.com/JV-conseil/" rel="noreferrer" target="_blank">JV conseil</a>. </div> <a href="https://github.com/sponsors/JV-conseil"><img style="vertical-align:middle" src="https://img.shields.io/static/v1?label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;color=%23fe8e86" alt="Become a sponsor to JV-conseil"></a> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Node Feature Discovery </div> <div class="branch p-1"> <span class="name"> v0.12 </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl id="versions"> <dt>Versions</dt> <script src="/node-feature-discovery/versions.js"></script> <script> var dt = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var dd = document.createElement('dd'); var a = dd.appendChild(document.createElement('a')); a.appendChild(document.createTextNode(items[i].name)); a.href = items[i].url; dt.appendChild(dd); } </script> </dl> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery" title="Stars: 918"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/issues" title="Open issues: 44"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/zipball/gh-pages" title="Size: 113212 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/node-feature-discovery/v0.12/" title="Node Feature Discovery">Software</a> is under the terms of <a href="https://github.com/kubernetes-sigs/node-feature-discovery">Apache License 2.0</a>. </div> </div> </div> <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/dompurify@3/dist/purify.min.js"></script> --> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/purify.min.js"></script><script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/js/theme.min.js"></script> <!-- @prettify-ignore --><!-- @prettify-ignore --></body> </html>