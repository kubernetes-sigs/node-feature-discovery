<!doctype html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Commandline flags of nfd-master Table of contents -h, -help -version -prune -port -metrics -instance -ca-file -cert-file -key-file -verify-node-nam..."> <meta name="revised" content=""> <meta name="author" content="Kubernetes SIGs"> <meta name="generator" content="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs"><meta name="theme-color" content="#2980b9"> <title>Master cmdline reference · Node Feature Discovery</title> <meta name="twitter:title" content="Master cmdline reference · Node Feature Discovery"> <meta name="twitter:description" content="Commandline flags of nfd-master Table of contents -h, -help -version -prune -port -metrics -instance -ca-file -cert-file -key-file -verify-node-nam..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@JVconseil"> <meta name="twitter:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/reference/master-commandline-reference.html"> <meta name="twitter:creator" content="@JVconseil"> <meta property="og:title" content="Master cmdline reference · Node Feature Discovery"> <meta property="og:description" content="Commandline flags of nfd-master Table of contents -h, -help -version -prune -port -metrics -instance -ca-file -cert-file -key-file -verify-node-nam..."> <meta property="og:locale" content="en"> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/reference/master-commandline-reference.html"> <meta property="og:type" content="article"> <meta property="og:image" content="https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/assets/images/social-media-preview.png"> <meta property="article:author" content="Kubernetes SIGs"> <meta property="article:published_time" content="2016-07-23T05:07:52+00:00"> <meta property="article:modified_time" content="2025-07-25T13:53:05+00:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/reference/master-commandline-reference.html" }, "headline": "Master cmdline reference · Node Feature Discovery", "image": [], "author": { "@type": "Person", "name": "Kubernetes SIGs" }, "datePublished": "2016-07-23T05:07:52+00:00", "dateModified": "2025-07-25T13:53:05+00:00", "publisher": { "@type": "Organization", "name": "Kubernetes SIGs", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/36015203?v=4" } }, "description": "Commandline flags of nfd-master Table of contents -h, -help -version -prune -port -metrics -instance -ca-file -cert-file -key-file -verify-node-nam..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="next" href="https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/reference/worker-commandline-reference.html"><link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/v0.14/reference/master-commandline-reference.html"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.ico"><link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.svg"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/css/theme.min.css"><style>@media (min-width: 1280px){.content-wrap{max-width:1200px}}</style><script> window.ui = { title: "Node Feature Discovery", baseurl: "/node-feature-discovery/v0.14", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/v0.14/" title="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster."> <i class="fa fa-home"></i> Node Feature Discovery </a> </div> <span class="version">v0.14.6</span> <form class="search pt-2" action="/node-feature-discovery/v0.14/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/get-started/"> Get started </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/get-started/introduction.html">1. Introduction</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/get-started/quick-start.html">2. Quick start</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/deployment/"> Deployment </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/image-variants.html">1. Image variants</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/kustomize.html">2. Kustomize</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/helm.html">3. Helm</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/operator.html">4. NFD Operator</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/tls.html">5. TLS authentication</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/uninstallation.html">6. Uninstallation</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/deployment/metrics.html">7. Metrics</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/usage/"> Usage </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/features.html">1. Feature labels</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/using-labels.html">2. Using node labels</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/nfd-master.html">3. NFD-Master</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/nfd-worker.html">4. NFD-Worker</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/nfd-topology-updater.html">5. NFD-Topology-Updater</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/nfd-gc.html">6. NFD-Garbage-Collector</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/custom-resources.html">7. CRDs</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/customization-guide.html">8. Customization guide</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/usage/examples-and-demos.html">9. Examples and demos</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/reference/"> Reference </a><ul> <li class="toc level-1 current" data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline current" href="/node-feature-discovery/v0.14/reference/master-commandline-reference.html">1. Master cmdline reference</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/worker-commandline-reference.html">2. Worker cmdline reference</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/master-configuration-reference.html">3. Master config reference</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/worker-configuration-reference.html">4. Worker config reference</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/topology-updater-commandline-reference.html">5. Topology Updater Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/topology-updater-configuration-reference.html">6. Topology-Updater config reference</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/gc-commandline-reference.html">7. Garbage Collector Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/v0.14/reference/versions.html">8. Versions</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/developer-guide/"> Developer guide </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/v0.14/contributing/"> Contributing </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/v0.14/">Node Feature Discovery</a> </div> </div> <div class="bg-red-2"> <div class="content p-3 px-sm-5"> This documentation is for a Node Feature Discovery version that is no longer supported. Please upgrade and visit the <a class="no-underline" href="/node-feature-discovery/stable">documentation of the latest stable release</a>. </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/node-feature-discovery/v0.14/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/node-feature-discovery/v0.14/reference/">reference</a></li><li class="breadcrumb-item" aria-current="page">master-commandline-reference.md</li></ul> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 class="no_toc" id="commandline-flags-of-nfd-master">Commandline flags of nfd-master</h1> <h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2> <ol id="markdown-toc"> <li><a href="#-h--help" id="markdown-toc--h--help">-h, -help</a></li> <li><a href="#-version" id="markdown-toc--version">-version</a></li> <li><a href="#-prune" id="markdown-toc--prune">-prune</a></li> <li><a href="#-port" id="markdown-toc--port">-port</a></li> <li><a href="#-metrics" id="markdown-toc--metrics">-metrics</a></li> <li><a href="#-instance" id="markdown-toc--instance">-instance</a></li> <li><a href="#-ca-file" id="markdown-toc--ca-file">-ca-file</a></li> <li><a href="#-cert-file" id="markdown-toc--cert-file">-cert-file</a></li> <li><a href="#-key-file" id="markdown-toc--key-file">-key-file</a></li> <li><a href="#-verify-node-name" id="markdown-toc--verify-node-name">-verify-node-name</a></li> <li><a href="#-enable-nodefeature-api" id="markdown-toc--enable-nodefeature-api">-enable-nodefeature-api</a></li> <li><a href="#-enable-leader-election" id="markdown-toc--enable-leader-election">-enable-leader-election</a></li> <li><a href="#-enable-taints" id="markdown-toc--enable-taints">-enable-taints</a></li> <li><a href="#-no-publish" id="markdown-toc--no-publish">-no-publish</a></li> <li><a href="#-crd-controller" id="markdown-toc--crd-controller">-crd-controller</a></li> <li><a href="#-featurerules-controller" id="markdown-toc--featurerules-controller">-featurerules-controller</a></li> <li><a href="#-label-whitelist" id="markdown-toc--label-whitelist">-label-whitelist</a></li> <li><a href="#-extra-label-ns" id="markdown-toc--extra-label-ns">-extra-label-ns</a></li> <li><a href="#-deny-label-ns" id="markdown-toc--deny-label-ns">-deny-label-ns</a></li> <li><a href="#-resource-labels" id="markdown-toc--resource-labels">-resource-labels</a></li> <li><a href="#-config" id="markdown-toc--config">-config</a></li> <li><a href="#-options" id="markdown-toc--options">-options</a></li> <li><a href="#-nfd-api-parallelism" id="markdown-toc--nfd-api-parallelism">-nfd-api-parallelism</a></li> <li><a href="#logging" id="markdown-toc-logging">Logging</a></li> <li><a href="#-resync-period" id="markdown-toc--resync-period">-resync-period</a></li> </ol> <hr /> <p>To quickly view available command line flags execute <code class="language-plaintext highlighter-rouge notranslate">nfd-master -help</code>. In a docker container:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>docker run registry.k8s.io/nfd/node-feature-discovery:v0.14.6 nfd-master <span class="nt">-help</span>
</code></pre>  </div></div> <h3 id="-h--help">-h, -help</h3> <p>Print usage and exit.</p> <h3 id="-version">-version</h3> <p>Print version and exit.</p> <h3 id="-prune">-prune</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-prune</code> flag is a sub-command like option for cleaning up the cluster. It causes nfd-master to remove all NFD related labels, annotations and extended resources from all Node objects of the cluster and exit.</p> <h3 id="-port">-port</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-port</code> flag specifies the TCP port that nfd-master listens for incoming requests.</p> <p>Default: 8080</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-port</span><span class="o">=</span>443
</code></pre>  </div></div> <h3 id="-metrics">-metrics</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-metrics</code> flag specifies the port on which to expose <a href="https://prometheus.io/">Prometheus</a> metrics. Setting this to 0 disables the metrics server on nfd-master.</p> <p>Default: 8081</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-metrics</span><span class="o">=</span>12345
</code></pre>  </div></div> <h3 id="-instance">-instance</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-instance</code> flag makes it possible to run multiple NFD deployments in parallel. In practice, it separates the node annotations between deployments so that each of them can store metadata independently. The instance name must start and end with an alphanumeric character and may only contain alphanumeric characters, <code class="language-plaintext highlighter-rouge notranslate">-</code>, <code class="language-plaintext highlighter-rouge notranslate">_</code> or <code class="language-plaintext highlighter-rouge notranslate">.</code>.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-instance</span><span class="o">=</span>network
</code></pre>  </div></div> <h3 id="-ca-file">-ca-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code>) controlling master-worker mutual TLS authentication on the nfd-master side. This flag specifies the TLS root certificate that is used for authenticating incoming connections. NFD-Worker side needs to have matching key and cert files configured in order for the incoming requests to be accepted.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/master.crt <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/master.key
</code></pre>  </div></div> <h3 id="-cert-file">-cert-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code>) controlling master-worker mutual TLS authentication on the nfd-master side. This flag specifies the TLS certificate presented for authenticating outgoing traffic towards nfd-worker.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/master.crt <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/master.key <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt
</code></pre>  </div></div> <h3 id="-key-file">-key-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-key-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code>) controlling master-worker mutual TLS authentication on the nfd-master side. This flag specifies the private key corresponding the given certificate file (<code class="language-plaintext highlighter-rouge notranslate">-cert-file</code>) that is used for authenticating outgoing traffic.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/master.key <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/master.crt <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt
</code></pre>  </div></div> <h3 id="-verify-node-name">-verify-node-name</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-verify-node-name</code> flag controls the NodeName based authorization of incoming requests and only has effect when mTLS authentication has been enabled (with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code>, <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code>). If enabled, the worker node name of the incoming must match with the CN or a SAN in its TLS certificate. Thus, workers are only able to label the node they are running on (or the node whose certificate they present).</p> <p>Node Name based authorization is disabled by default.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-verify-node-name</span> <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt <span class="se">\</span>
    <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/master.crt <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/master.key
</code></pre>  </div></div> <h3 id="-enable-nodefeature-api">-enable-nodefeature-api</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code> flag enables/disables the <a href="/node-feature-discovery/v0.14/usage/custom-resources.html#nodefeature">NodeFeature</a> CRD API for receiving feature requests. This will also automatically disable/enable the gRPC interface.</p> <p>Default: true</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-enable-nodefeature-api</span><span class="o">=</span><span class="nb">false</span>
</code></pre>  </div></div> <h3 id="-enable-leader-election">-enable-leader-election</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-enable-leader-election</code> flag enables leader election for NFD-Master. It is advised to turn on this flag when running more than one instance of NFD-Master.</p> <p>This flag takes effect only when combined with <code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code> flag.</p> <p>Default: false</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-enable-nodefeature-api</span> <span class="nt">-enable-leader-election</span>
</code></pre>  </div></div> <h3 id="-enable-taints">-enable-taints</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-enable-taints</code> flag enables/disables node tainting feature of NFD.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-enable-taints</span><span class="o">=</span><span class="nb">true</span>
</code></pre>  </div></div> <h3 id="-no-publish">-no-publish</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-no-publish</code> flag disables updates to the Node objects in the Kubernetes API server, making a "dry-run" flag for nfd-master. No Labels, Annotations or ExtendedResources of nodes are updated.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-no-publish</span>
</code></pre>  </div></div> <h3 id="-crd-controller">-crd-controller</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-crd-controller</code> flag specifies whether the NFD CRD API controller is enabled or not. The controller is responsible for processing <a href="/node-feature-discovery/v0.14/usage/custom-resources.html#nodefeature">NodeFeature</a> and <a href="/node-feature-discovery/v0.14/usage/custom-resources.html#nodefeaturerule">NodeFeatureRule</a> objects.</p> <p>Default: <em>true</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-crd-controller</span><span class="o">=</span><span class="nb">false</span>
</code></pre>  </div></div> <h3 id="-featurerules-controller">-featurerules-controller</h3> <p><strong>DEPRECATED</strong>: use <a href="#-crd-controller"><code class="language-plaintext highlighter-rouge notranslate">-crd-controller</code></a> instead.</p> <h3 id="-label-whitelist">-label-whitelist</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-label-whitelist</code> specifies a regular expression for filtering feature labels based on their name. Each label must match against the given reqular expression in order to be published.</p> <blockquote> <p><strong>NOTE:</strong> The regular expression is only matches against the "basename" part of the label, i.e. to the part of the name after ‘/'. The label namespace is omitted.</p> </blockquote> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-label-whitelist</span><span class="o">=</span><span class="s1">'.*cpuid\.'</span>
</code></pre>  </div></div> <h3 id="-extra-label-ns">-extra-label-ns</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-extra-label-ns</code> flag specifies a comma-separated list of allowed feature label namespaces. This option can be used to allow other vendor or application specific namespaces for custom labels from the local and custom feature sources, even though these labels were denied using the <code class="language-plaintext highlighter-rouge notranslate">deny-label-ns</code> flag.</p> <p>The same namespace control and this flag applies Extended Resources (created with <code class="language-plaintext highlighter-rouge notranslate">-resource-labels</code>), too.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-extra-label-ns</span><span class="o">=</span>vendor-1.com,vendor-2.io
</code></pre>  </div></div> <h3 id="-deny-label-ns">-deny-label-ns</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-deny-label-ns</code> flag specifies a comma-separated list of excluded label namespaces. By default, nfd-master allows creating labels in all namespaces, excluding <code class="language-plaintext highlighter-rouge notranslate">kubernetes.io</code> namespace and its sub-namespaces (i.e. <code class="language-plaintext highlighter-rouge notranslate">*.kubernetes.io</code>). However, you should note that <code class="language-plaintext highlighter-rouge notranslate">kubernetes.io</code> and its sub-namespaces are always denied. For example, <code class="language-plaintext highlighter-rouge notranslate">nfd-master -deny-label-ns=""</code> would still disallow <code class="language-plaintext highlighter-rouge notranslate">kubernetes.io</code> and <code class="language-plaintext highlighter-rouge notranslate">*.kubernetes.io</code>. This option can be used to exclude some vendors or application specific namespaces. Note that the namespaces <code class="language-plaintext highlighter-rouge notranslate">feature.node.kubernetes.io</code> and <code class="language-plaintext highlighter-rouge notranslate">profile.node.kubernetes.io</code> and their sub-namespaces are always allowed and cannot be denied.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-deny-label-ns</span><span class="o">=</span><span class="k">*</span>.vendor.com,vendor-2.io
</code></pre>  </div></div> <h3 id="-resource-labels">-resource-labels</h3> <p><strong>DEPRECATED</strong>: <a href="/node-feature-discovery/v0.14/usage/custom-resources.html#nodefeaturerule">NodeFeatureRule</a> should be used for managing extended resources in NFD.</p> <p>The <code class="language-plaintext highlighter-rouge notranslate">-resource-labels</code> flag specifies a comma-separated list of features to be advertised as extended resources instead of labels. Features that have integer values can be published as Extended Resources by listing them in this flag.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-resource-labels</span><span class="o">=</span>vendor-1.com/feature-1,vendor-2.io/feature-2
</code></pre>  </div></div> <h3 id="-config">-config</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-config</code> flag specifies the path of the nfd-master configuration file to use.</p> <p>Default: /etc/kubernetes/node-feature-discovery/nfd-master.conf</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-config</span><span class="o">=</span>/opt/nfd/master.conf
</code></pre>  </div></div> <h3 id="-options">-options</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-options</code> flag may be used to specify and override configuration file options directly from the command line. The required format is the same as in the config file i.e. JSON or YAML. Configuration options specified via this flag will override those from the configuration file:</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-options</span><span class="o">=</span><span class="s1">'{"noPublish": true}'</span>
</code></pre>  </div></div> <h3 id="-nfd-api-parallelism">-nfd-api-parallelism</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-nfd-api-parallelism</code> flag can be used to specify the maximum number of concurrent node updates.</p> <p>It takes effect only when <code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code> has been set.</p> <p>Default: 10</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-nfd-api-parallelism</span><span class="o">=</span>1
</code></pre>  </div></div> <h3 id="logging">Logging</h3> <p>The following logging-related flags are inherited from the <a href="https://pkg.go.dev/k8s.io/klog/v2">klog</a> package.</p> <h4 id="-add_dir_header">-add_dir_header</h4> <p>If true, adds the file directory to the header of the log messages.</p> <p>Default: false</p> <h4 id="-alsologtostderr">-alsologtostderr</h4> <p>Log to standard error as well as files.</p> <p>Default: false</p> <h4 id="-log_backtrace_at">-log_backtrace_at</h4> <p>When logging hits line file:N, emit a stack trace.</p> <p>Default: <em>empty</em></p> <h4 id="-log_dir">-log_dir</h4> <p>If non-empty, write log files in this directory.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file">-log_file</h4> <p>If non-empty, use this log file.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file_max_size">-log_file_max_size</h4> <p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p> <p>Default: 1800</p> <h4 id="-logtostderr">-logtostderr</h4> <p>Log to standard error instead of files</p> <p>Default: true</p> <h4 id="-skip_headers">-skip_headers</h4> <p>If true, avoid header prefixes in the log messages.</p> <p>Default: false</p> <h4 id="-skip_log_headers">-skip_log_headers</h4> <p>If true, avoid headers when opening log files.</p> <p>Default: false</p> <h4 id="-stderrthreshold">-stderrthreshold</h4> <p>Logs at or above this threshold go to stderr.</p> <p>Default: 2</p> <h4 id="-v">-v</h4> <p>Number for the log level verbosity.</p> <p>Default: 0</p> <h4 id="-vmodule">-vmodule</h4> <p>Comma-separated list of <code class="language-plaintext highlighter-rouge notranslate">pattern=N</code> settings for file-filtered logging.</p> <p>Default: <em>empty</em></p> <h3 id="-resync-period">-resync-period</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-resync-period</code> flag specifies the NFD API controller resync period. The resync means nfd-master replaying all NodeFeature and NodeFeatureRule objects, thus effectively re-syncing all nodes in the cluster (i.e. ensuring labels, annotations, extended resources and taints are in place). Only has effect when the <a href="/node-feature-discovery/v0.14/usage/custom-resources.html#nodefeature">NodeFeature</a> CRD API has been enabled with <a href="/node-feature-discovery/v0.14/reference/master-commandline-reference.html#-enable-nodefeature-api"><code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code></a>.</p> <p>Default: 1 hour.</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-resync-period</span><span class="o">=</span>2h
</code></pre>  </div></div> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"></div> <div class="next"><a href="/node-feature-discovery/v0.14/reference/worker-commandline-reference.html" class="btn" title="Worker cmdline reference" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2016-2025,</span> <a class="text-gray" href="https://github.com/kubernetes-sigs" rel="noreferrer" target="_blank">Kubernetes SIGs</a> Revision <a class="text-gray" href="https://github.com/kubernetes-sigs/node-feature-discovery/commit/" title="" rel="noreferrer" target="_blank"></a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v228">GitHub Pages</a> using a <a href="https://github.com/JV-conseil/jekyll-theme-read-the-docs" rel="noreferrer" target="_blank" title="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs">theme</a> provided by <a href="https://github.com/JV-conseil/" rel="noreferrer" target="_blank">JV conseil</a>. </div> <a href="https://github.com/sponsors/JV-conseil"><img style="vertical-align:middle" src="https://img.shields.io/static/v1?label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;color=%23fe8e86" alt="Become a sponsor to JV-conseil"></a> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Node Feature Discovery </div> <div class="branch p-1"> <span class="name"> v0.14 </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl id="versions"> <dt>Versions</dt> <script src="/node-feature-discovery/versions.js"></script> <script> var dt = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var dd = document.createElement('dd'); var a = dd.appendChild(document.createElement('a')); a.appendChild(document.createTextNode(items[i].name)); a.href = items[i].url; dt.appendChild(dd); } </script> </dl> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery" title="Stars: 918"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/issues" title="Open issues: 44"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/zipball/gh-pages" title="Size: 113212 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/node-feature-discovery/v0.14/" title="Node Feature Discovery">Software</a> is under the terms of <a href="https://github.com/kubernetes-sigs/node-feature-discovery">Apache License 2.0</a>. </div> </div> </div> <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/dompurify@3/dist/purify.min.js"></script> --> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/purify.min.js"></script><script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/js/theme.min.js"></script> <!-- @prettify-ignore --><!-- @prettify-ignore --></body> </html>