<!doctype html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Configuration file reference of nfd-master Table of contents noPublish extraLabelNs denyLabelNs enableTaints labelWhiteList resyncPeriod leaderElec..."> <meta name="revised" content=""> <meta name="author" content="Kubernetes SIGs"> <meta name="generator" content="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs"><meta name="theme-color" content="#2980b9"> <title>Master config reference · Node Feature Discovery</title> <meta name="twitter:title" content="Master config reference · Node Feature Discovery"> <meta name="twitter:description" content="Configuration file reference of nfd-master Table of contents noPublish extraLabelNs denyLabelNs enableTaints labelWhiteList resyncPeriod leaderElec..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@JVconseil"> <meta name="twitter:url" content="https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/master-configuration-reference.html"> <meta name="twitter:creator" content="@JVconseil"> <meta property="og:title" content="Master config reference · Node Feature Discovery"> <meta property="og:description" content="Configuration file reference of nfd-master Table of contents noPublish extraLabelNs denyLabelNs enableTaints labelWhiteList resyncPeriod leaderElec..."> <meta property="og:locale" content="en"> <meta property="og:url" content="https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/master-configuration-reference.html"> <meta property="og:type" content="article"> <meta property="og:image" content="https://kubernetes-sigs.github.io/node-feature-discovery/master/assets/images/social-media-preview.png"> <meta property="article:author" content="Kubernetes SIGs"> <meta property="article:published_time" content="2016-07-23T05:07:52+00:00"> <meta property="article:modified_time" content="2025-09-20T08:43:13+00:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/master-configuration-reference.html" }, "headline": "Master config reference · Node Feature Discovery", "image": [], "author": { "@type": "Person", "name": "Kubernetes SIGs" }, "datePublished": "2016-07-23T05:07:52+00:00", "dateModified": "2025-09-20T08:43:13+00:00", "publisher": { "@type": "Organization", "name": "Kubernetes SIGs", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/36015203?v=4" } }, "description": "Configuration file reference of nfd-master Table of contents noPublish extraLabelNs denyLabelNs enableTaints labelWhiteList resyncPeriod leaderElec..." } </script> <link rel="prev" href="https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/worker-commandline-reference.html"><link rel="next" href="https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/worker-configuration-reference.html"><link rel="canonical" href="https://kubernetes-sigs.github.io/node-feature-discovery/master/reference/master-configuration-reference.html"><link rel="icon" type="image/x-icon" href="/node-feature-discovery/master/assets/images/nfd/favicon.ico"><link rel="icon" type="image/svg+xml" href="/node-feature-discovery/master/assets/images/nfd/favicon.svg"> <link rel="icon" type="image/png" href="/node-feature-discovery/master/assets/images/nfd/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" href="/node-feature-discovery/master/assets/images/nfd/apple-touch-icon.png"><link rel="manifest" href="/node-feature-discovery/master/assets/images/nfd/site.webmanifest"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/css/theme.min.css"><style>@media (min-width: 1280px){.content-wrap{max-width:1200px}}</style><script> window.ui = { title: "Node Feature Discovery", baseurl: "/node-feature-discovery/master", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/master/" title="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster."> <i class="fa fa-home"></i> Node Feature Discovery </a> </div> <span class="version">master</span> <form class="search pt-2" action="/node-feature-discovery/master/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/get-started/"> Get started </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/get-started/introduction.html">1. Introduction</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/get-started/quick-start.html">2. Quick start</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/deployment/"> Deployment </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/image-variants.html">1. Image variants</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/kustomize.html">2. Kustomize</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/helm.html">3. Helm</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/operator.html">4. NFD Operator</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/uninstallation.html">5. Uninstallation</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/metrics.html">6. Metrics</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/usage/"> Usage </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/features.html">1. Feature labels</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/using-labels.html">2. Using node labels</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-master.html">3. NFD-Master</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-worker.html">4. NFD-Worker</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-topology-updater.html">5. NFD-Topology-Updater</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-gc.html">6. NFD-Garbage-Collector</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/custom-resources.html">7. CRDs</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/customization-guide.html">8. Customization guide</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/examples-and-demos.html">9. Examples and demos</a> </li> <li class="toc level-1 " data-sort="10" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/kubectl-plugin.html">10. Kubectl plugin</a> </li> <li class="toc level-1 " data-sort="11" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/image-compatibility.html">11. Image Compatibility Artifact</a> </li> <li class="toc level-1 " data-sort="12" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-export.html">12. Export</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/reference/"> Reference </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/master-commandline-reference.html">1. Master cmdline reference</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/worker-commandline-reference.html">2. Worker cmdline reference</a> </li> <li class="toc level-1 current" data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline current" href="/node-feature-discovery/master/reference/master-configuration-reference.html">3. Master config reference</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/worker-configuration-reference.html">4. Worker config reference</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/topology-updater-commandline-reference.html">5. Topology Updater Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/topology-updater-configuration-reference.html">6. Topology-Updater config reference</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/gc-commandline-reference.html">7. Garbage Collector Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/plugin-commandline-reference.html">8. Kubectl plugin cmdline reference</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/node-feature-client-reference.html">9. Node Feature client cmdline reference</a> </li> <li class="toc level-1 " data-sort="10" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/versions.html">10. Versions</a> </li> <li class="toc level-1 " data-sort="11" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/feature-gates.html">11. Feature Gates</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/developer-guide/"> Developer guide </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/contributing/"> Contributing </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/master/">Node Feature Discovery</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/node-feature-discovery/master/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/node-feature-discovery/master/reference/">reference</a></li><li class="breadcrumb-item" aria-current="page">master-configuration-reference.md</li></ul> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 class="no_toc" id="configuration-file-reference-of-nfd-master">Configuration file reference of nfd-master</h1> <h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2> <ol id="markdown-toc"> <li><a href="#nopublish" id="markdown-toc-nopublish">noPublish</a></li> <li><a href="#extralabelns" id="markdown-toc-extralabelns">extraLabelNs</a></li> <li><a href="#denylabelns" id="markdown-toc-denylabelns">denyLabelNs</a></li> <li><a href="#enabletaints" id="markdown-toc-enabletaints">enableTaints</a></li> <li><a href="#labelwhitelist" id="markdown-toc-labelwhitelist">labelWhiteList</a></li> <li><a href="#resyncperiod" id="markdown-toc-resyncperiod">resyncPeriod</a></li> <li><a href="#leaderelection" id="markdown-toc-leaderelection">leaderElection</a> <ol> <li><a href="#leaderelectionleaseduration" id="markdown-toc-leaderelectionleaseduration">leaderElection.leaseDuration</a></li> <li><a href="#leaderelectionrenewdeadline" id="markdown-toc-leaderelectionrenewdeadline">leaderElection.renewDeadline</a></li> <li><a href="#leaderelectionretryperiod" id="markdown-toc-leaderelectionretryperiod">leaderElection.retryPeriod</a></li> </ol> </li> <li><a href="#nfdapiparallelism" id="markdown-toc-nfdapiparallelism">nfdApiParallelism</a></li> <li><a href="#informerpagesize" id="markdown-toc-informerpagesize">informerPageSize</a></li> <li><a href="#klog" id="markdown-toc-klog">klog</a> <ol> <li><a href="#klogadddirheader" id="markdown-toc-klogadddirheader">klog.addDirHeader</a></li> <li><a href="#klogalsologtostderr" id="markdown-toc-klogalsologtostderr">klog.alsologtostderr</a></li> <li><a href="#kloglogbacktraceat" id="markdown-toc-kloglogbacktraceat">klog.logBacktraceAt</a></li> <li><a href="#kloglogdir" id="markdown-toc-kloglogdir">klog.logDir</a></li> <li><a href="#kloglogfile" id="markdown-toc-kloglogfile">klog.logFile</a></li> <li><a href="#kloglogfilemaxsize" id="markdown-toc-kloglogfilemaxsize">klog.logFileMaxSize</a></li> <li><a href="#kloglogtostderr" id="markdown-toc-kloglogtostderr">klog.logtostderr</a></li> <li><a href="#klogskipheaders" id="markdown-toc-klogskipheaders">klog.skipHeaders</a></li> <li><a href="#klogskiplogheaders" id="markdown-toc-klogskiplogheaders">klog.skipLogHeaders</a></li> <li><a href="#klogstderrthreshold" id="markdown-toc-klogstderrthreshold">klog.stderrthreshold</a></li> <li><a href="#klogv" id="markdown-toc-klogv">klog.v</a></li> <li><a href="#klogvmodule" id="markdown-toc-klogvmodule">klog.vmodule</a></li> </ol> </li> <li><a href="#restrictions-experimental" id="markdown-toc-restrictions-experimental">restrictions (EXPERIMENTAL)</a> <ol> <li><a href="#restrictionsnodefeaturenamespaceselector" id="markdown-toc-restrictionsnodefeaturenamespaceselector">restrictions.nodeFeatureNamespaceSelector</a></li> <li><a href="#restrictionsdisablelabels" id="markdown-toc-restrictionsdisablelabels">restrictions.disableLabels</a></li> <li><a href="#restrictionsdisableextendedresources" id="markdown-toc-restrictionsdisableextendedresources">restrictions.disableExtendedResources</a></li> <li><a href="#restrictionsdisableannotations" id="markdown-toc-restrictionsdisableannotations">restrictions.disableAnnotations</a></li> <li><a href="#restrictionsallowoverwrite" id="markdown-toc-restrictionsallowoverwrite">restrictions.allowOverwrite</a></li> <li><a href="#restrictionsdenynodefeaturelabels" id="markdown-toc-restrictionsdenynodefeaturelabels">restrictions.denyNodeFeatureLabels</a></li> </ol> </li> </ol> <hr /> <p>See the <a href="https://github.com/kubernetes-sigs/node-feature-discovery/blob/master/deployment/components/master-config/nfd-master.conf.example">sample configuration file</a> for a full example configuration.</p> <h2 id="nopublish">noPublish</h2> <p><code class="language-plaintext highlighter-rouge notranslate">noPublish</code> option disables updates to the Node objects in the Kubernetes API server, making a "dry-run" flag for nfd-master. No Labels, Annotations, Taints or ExtendedResources of nodes are updated.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">false</code></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">noPublish</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> <h2 id="extralabelns">extraLabelNs</h2> <p><code class="language-plaintext highlighter-rouge notranslate">extraLabelNs</code> specifies a list of allowed feature label namespaces. This option can be used to allow other vendor or application specific namespaces for custom labels from the local and custom feature sources, even though these labels were denied using the <code class="language-plaintext highlighter-rouge notranslate">denyLabelNs</code> parameter.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">extraLabelNs</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">added.ns.io"</span><span class="pi">,</span><span class="s2">"</span><span class="s">added.kubernets.io"</span><span class="pi">]</span>
</code></pre>  </div></div> <h2 id="denylabelns">denyLabelNs</h2> <p><code class="language-plaintext highlighter-rouge notranslate">denyLabelNs</code> specifies a list of excluded label namespaces. By default, nfd-master allows creating labels in all namespaces, excluding <code class="language-plaintext highlighter-rouge notranslate">kubernetes.io</code> namespace and its sub-namespaces (i.e. <code class="language-plaintext highlighter-rouge notranslate">*.kubernetes.io</code>). However, you should note that <code class="language-plaintext highlighter-rouge notranslate">kubernetes.io</code> and its sub-namespaces are always denied. This option can be used to exclude some vendors or application specific namespaces.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">denyLabelNs</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">denied.ns.io"</span><span class="pi">,</span><span class="s2">"</span><span class="s">denied.kubernetes.io"</span><span class="pi">]</span>
</code></pre>  </div></div> <h2 id="enabletaints">enableTaints</h2> <p><code class="language-plaintext highlighter-rouge notranslate">enableTaints</code> enables/disables node tainting feature of NFD.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">enableTaints</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> <h2 id="labelwhitelist">labelWhiteList</h2> <p><code class="language-plaintext highlighter-rouge notranslate">labelWhiteList</code> specifies a regular expression for filtering feature labels based on their name. Each label must match against the given regular expression or it will not be published.</p> <blockquote> <p>** NOTE:** The regular expression is only matches against the "basename" part of the label, i.e. to the part of the name after ‘/'. The label namespace is omitted.</p> </blockquote> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">labelWhiteList</span><span class="pi">:</span> <span class="s2">"</span><span class="s">foo"</span>
</code></pre>  </div></div> <h2 id="resyncperiod">resyncPeriod</h2> <p>The <code class="language-plaintext highlighter-rouge notranslate">resyncPeriod</code> option specifies the NFD API controller resync period. The resync means nfd-master replaying all NodeFeature and NodeFeatureRule objects, thus effectively re-syncing all nodes in the cluster (i.e. ensuring labels, annotations, extended resources and taints are in place).</p> <p>Default: 1 hour.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">resyncPeriod</span><span class="pi">:</span> <span class="s">2h</span>
</code></pre>  </div></div> <h2 id="leaderelection">leaderElection</h2> <p>The <code class="language-plaintext highlighter-rouge notranslate">leaderElection</code> section exposes configuration to tweak leader election.</p> <h3 id="leaderelectionleaseduration">leaderElection.leaseDuration</h3> <p><code class="language-plaintext highlighter-rouge notranslate">leaderElection.leaseDuration</code> is the duration that non-leader candidates will wait to force acquire leadership. This is measured against time of last observed ack.</p> <p>A client needs to wait a full LeaseDuration without observing a change to the record before it can attempt to take over. When all clients are shutdown and a new set of clients are started with different names against the same leader record, they must wait the full LeaseDuration before attempting to acquire the lease. Thus LeaseDuration should be as short as possible (within your tolerance for clock skew rate) to avoid a possible long waits in the scenario.</p> <p>Default: 15 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">leaseDurtation</span><span class="pi">:</span> <span class="s">15s</span>
</code></pre>  </div></div> <h3 id="leaderelectionrenewdeadline">leaderElection.renewDeadline</h3> <p><code class="language-plaintext highlighter-rouge notranslate">leaderElection.renewDeadline</code> is the duration that the acting master will retry refreshing leadership before giving up.</p> <p>This value has to be lower than leaseDuration and greater than retryPeriod*1.2.</p> <p>Default: 10 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">renewDeadline</span><span class="pi">:</span> <span class="s">10s</span>
</code></pre>  </div></div> <h3 id="leaderelectionretryperiod">leaderElection.retryPeriod</h3> <p><code class="language-plaintext highlighter-rouge notranslate">leaderElection.retryPeriod</code> is the duration the LeaderElector clients should wait between tries of actions.</p> <p>It has to be greater than 0.</p> <p>Default: 2 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">retryPeriod</span><span class="pi">:</span> <span class="s">2s</span>
</code></pre>  </div></div> <h2 id="nfdapiparallelism">nfdApiParallelism</h2> <p>The <code class="language-plaintext highlighter-rouge notranslate">nfdApiParallelism</code> option can be used to specify the maximum number of concurrent node updates.</p> <p>Default: 10</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">nfdApiParallelism</span><span class="pi">:</span> <span class="m">1</span>
</code></pre>  </div></div> <h2 id="informerpagesize">informerPageSize</h2> <p>The <code class="language-plaintext highlighter-rouge notranslate">informerPageSize</code> option is used to control pagination during informer cache sync on nfd-master startup. This is useful to control load on api-server/etcd as listing NodeFeature objects can be expensive, especially in large clusters.</p> <p>Default: 200</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">informerPageSize</span><span class="pi">:</span> <span class="m">50</span>
</code></pre>  </div></div> <h2 id="klog">klog</h2> <p>The following options specify the logger configuration. Most of which can be dynamically adjusted at run-time.</p> <blockquote> <p><strong>NOTE:</strong> The logger options can also be specified via command line flags which take precedence over any corresponding config file options.</p> </blockquote> <h3 id="klogadddirheader">klog.addDirHeader</h3> <p>If true, adds the file directory to the header of the log messages.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">false</code></p> <p>Run-time configurable: yes</p> <h3 id="klogalsologtostderr">klog.alsologtostderr</h3> <p>Log to standard error as well as files.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">false</code></p> <p>Run-time configurable: yes</p> <h3 id="kloglogbacktraceat">klog.logBacktraceAt</h3> <p>When logging hits line file:N, emit a stack trace.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: yes</p> <h3 id="kloglogdir">klog.logDir</h3> <p>If non-empty, write log files in this directory.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: no</p> <h3 id="kloglogfile">klog.logFile</h3> <p>If non-empty, use this log file.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: no</p> <h3 id="kloglogfilemaxsize">klog.logFileMaxSize</h3> <p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">1800</code></p> <p>Run-time configurable: no</p> <h3 id="kloglogtostderr">klog.logtostderr</h3> <p>Log to standard error instead of files</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">true</code></p> <p>Run-time configurable: yes</p> <h3 id="klogskipheaders">klog.skipHeaders</h3> <p>If true, avoid header prefixes in the log messages.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">false</code></p> <p>Run-time configurable: yes</p> <h3 id="klogskiplogheaders">klog.skipLogHeaders</h3> <p>If true, avoid headers when opening log files.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">false</code></p> <p>Run-time configurable: no</p> <h3 id="klogstderrthreshold">klog.stderrthreshold</h3> <p>Logs at or above this threshold go to stderr (default 2)</p> <p>Run-time configurable: yes</p> <h3 id="klogv">klog.v</h3> <p>Number for the log level verbosity.</p> <p>Default: <code class="language-plaintext highlighter-rouge notranslate">0</code></p> <p>Run-time configurable: yes</p> <h3 id="klogvmodule">klog.vmodule</h3> <p>Comma-separated list of <code class="language-plaintext highlighter-rouge notranslate">pattern=N</code> settings for file-filtered logging.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: yes</p> <h2 id="restrictions-experimental">restrictions (EXPERIMENTAL)</h2> <p>The following options specify the restrictions that can be applied by the nfd-master on the deployed Custom Resources in the cluster.</p> <h3 id="restrictionsnodefeaturenamespaceselector">restrictions.nodeFeatureNamespaceSelector</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">nodeFeatureNamespaceSelector</code> option specifies the NodeFeatures namespaces to watch, which can be selected by using <code class="language-plaintext highlighter-rouge notranslate">metav1.LabelSelector</code> as a type for this option. An empty value selects all namespaces to be watched.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">nodeFeatureNamespaceSelector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">kubernetes.io/metadata.name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">node-feature-discovery"</span>
    <span class="na">matchExpressions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">kubernetes.io/metadata.name"</span>
        <span class="na">operator</span><span class="pi">:</span> <span class="s2">"</span><span class="s">In"</span>
        <span class="na">values</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">node-feature-discovery"</span>
</code></pre>  </div></div> <h3 id="restrictionsdisablelabels">restrictions.disableLabels</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">disableLabels</code> option controls whether to allow creation of node labels from NodeFeature and NodeFeatureRule CRs or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableLabels</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> <h3 id="restrictionsdisableextendedresources">restrictions.disableExtendedResources</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">disableExtendedResources</code> option controls whether to allow creation of node extended resources from NodeFeatureRule CR or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableExtendedResources</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> <h3 id="restrictionsdisableannotations">restrictions.disableAnnotations</h3> <p>he <code class="language-plaintext highlighter-rouge notranslate">disableAnnotations</code> option controls whether to allow creation of node annotations from NodeFeatureRule CR or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableAnnotations</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> <h3 id="restrictionsallowoverwrite">restrictions.allowOverwrite</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">allowOverwrite</code> option controls whether NFD is allowed to overwrite and take over management of existing node labels, annotations, and extended resources. Labels, annotations and extended resources created by NFD itself are not affected (overwrite cannot be disabled). NFD tracks the labels, annotations and extended resources that it manages with specific <a href="/node-feature-discovery/master/get-started/introduction.html#node-annotations">node annotations</a>.</p> <p>Default: true</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">allowOverwrite</span><span class="pi">:</span> <span class="no">false</span>
</code></pre>  </div></div> <h3 id="restrictionsdenynodefeaturelabels">restrictions.denyNodeFeatureLabels</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">denyNodeFeatureLabels</code> option specifies whether to deny labels from 3rd party NodeFeature objects or not. NodeFeature objects created by nfd-worker are not affected.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">denyNodeFeatureLabels</span><span class="pi">:</span> <span class="no">true</span>
</code></pre>  </div></div> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/node-feature-discovery/master/reference/worker-commandline-reference.html" class="btn" title="Worker cmdline reference" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/node-feature-discovery/master/reference/worker-configuration-reference.html" class="btn" title="Worker config reference" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2016-2025,</span> <a class="text-gray" href="https://github.com/kubernetes-sigs" rel="noreferrer" target="_blank">Kubernetes SIGs</a> Revision <a class="text-gray" href="https://github.com/kubernetes-sigs/node-feature-discovery/commit/" title="" rel="noreferrer" target="_blank"></a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v232">GitHub Pages</a> using a <a href="https://github.com/JV-conseil/jekyll-theme-read-the-docs" rel="noreferrer" target="_blank" title="JV-conseil/jekyll-theme-read-the-docs vJV-conseil/jekyll-theme-read-the-docs">theme</a> provided by <a href="https://github.com/JV-conseil/" rel="noreferrer" target="_blank">JV conseil</a>. </div> <a href="https://github.com/sponsors/JV-conseil"><img style="vertical-align:middle" src="https://img.shields.io/static/v1?label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;color=%23fe8e86" alt="Become a sponsor to JV-conseil"></a> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Node Feature Discovery </div> <div class="branch p-1"> <span class="name"> master </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl id="versions"> <dt>Versions</dt> <script src="/node-feature-discovery/versions.js"></script> <script> var dt = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var dd = document.createElement('dd'); var a = dd.appendChild(document.createElement('a')); a.appendChild(document.createTextNode(items[i].name)); a.href = items[i].url; dt.appendChild(dd); } </script> </dl> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery" title="Stars: 935"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/issues" title="Open issues: 37"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/zipball/gh-pages" title="Size: 115444 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/node-feature-discovery/master/" title="Node Feature Discovery">Software</a> is under the terms of <a href="https://github.com/kubernetes-sigs/node-feature-discovery">Apache License 2.0</a>. </div> </div> </div> <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/dompurify@3/dist/purify.min.js"></script> --> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/lib/purify.min.js"></script><script src="https://cdn.jsdelivr.net/gh/JV-conseil/jekyll-theme-read-the-docs/assets/js/theme.min.js"></script> <!-- @prettify-ignore --><!-- @prettify-ignore --></body> </html>